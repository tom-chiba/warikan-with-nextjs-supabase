---
description: TDD調査フェーズ - 実装する機能の要件と既存コードを理解する
argument-hint: [機能の説明]
---

# TDD 調査フェーズ

**目的**: $ARGUMENTS

## タスク

以下の順序で調査を実施してください：

1. **要件の明確化**
   - 実装する機能の目的と期待される動作を明確にする
   - ユーザーストーリーまたはユースケースを整理する
   - 受け入れ基準を定義する

2. **既存コードの理解**
   - 関連する既存のコードベースを確認する
   - 類似機能の実装パターンを調査する
   - 依存関係とインターフェースを特定する

3. **技術調査**
   - 使用する技術スタック・ライブラリを確認する
   - テストフレームワークとツールを確認する
   - プロジェクトのコーディング規約を確認する

4. **調査結果サマリー**
   - 実装に必要な情報を整理する
   - 不明点や確認が必要な事項をリストアップする
   - 次のフェーズ（計画）に向けた準備を行う

## サブエージェントの活用

調査フェーズでは **general-purpose** サブエージェントを活用できます：

```bash
# 複数ファイルにまたがる調査
Task(subagent_type="general-purpose",
     prompt="購入品削除機能に関連する既存コードをすべて調査し、実装パターンを特定してください")

# 技術スタックの調査
Task(subagent_type="general-purpose",
     prompt="プロジェクトで使用しているテストフレームワークとモックライブラリを調査してください")
```

サブエージェントは以下の場合に特に有効です：
- 複数のファイル・ディレクトリを横断的に調査する必要がある場合
- 類似機能の実装パターンを網羅的に探す場合
- 依存関係や影響範囲を広く調査する必要がある場合

**重要**: この段階ではコードを書きません。理解と調査に専念してください。
